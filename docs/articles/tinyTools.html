<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytools • tinytools</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="tinytools">
<meta property="og:description" content="tinytools">
<meta property="og:image" content="https://tidymass.github.io/tinytools/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-000000-01"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-000000-01');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tinytools</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Help documents
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">metflow</li>
    <li>
      <a href="http://metflow.zhulab.cn/" class="external-link">Web Server for Metabolomics Data Cleaning and Differential Metabolite Discovery</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">metflow2</li>
    <li>
      <a href="https://tidymass.github.io/metflow2/" class="external-link">Mass spectrometry raw data processing and data cleaning</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">MetNormalizer</li>
    <li>
      <a href="https://tidymass.github.io/MetNormalizer/" class="external-link">Metabolomimcs data normalization</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">metID</li>
    <li>
      <a href="https://tidymass.github.io/metID/" class="external-link">Database construction and metabolite annotation</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">MetDNA</li>
    <li>
      <a href="http://metdna.zhulab.cn/" class="external-link">Metabolite identification and Dysregulated Network Analysis</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">lipidflow</li>
    <li>
      <a href="https://tidymass.github.io/lipidflow/" class="external-link">Absolute quantification for lipidomics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Blog posts</li>
    <li>
      <a href="../articles/tinytools.html">Version 0.4.0</a>
    </li>
    <li class="divider">
    </li>
<li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/contact_us.html">Contact us</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/tidymass/tinytools/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/JasperShen1990" class="external-link">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>tinytools</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/tidymass/tinytools/blob/HEAD/vignettes/tinytools.Rmd" class="external-link"><code>vignettes/tinytools.Rmd</code></a></small>
      <div class="hidden name"><code>tinytools.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymass/tinytools" class="external-link">tinytools</a></span><span class="op">)</span>
<span class="co">#&gt; ── <span style="font-weight: bold;">Attaching packages</span> ────────────────────────────────────── tinytools 0.99.1 ──</span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #0000BB;">magrittr</span> 2.0.1</span>
<span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tinytools_conflicts() ──</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">methods</span>::<span style="color: #00BB00;">body&lt;-()</span>    masks <span style="color: #0000BB;">base</span>::body&lt;-()</span>
<span class="co">#&gt; <span style="color: #BB0000;">x</span> <span style="color: #0000BB;">methods</span>::<span style="color: #00BB00;">kronecker()</span> masks <span style="color: #0000BB;">base</span>::kronecker()</span></code></pre></div>
<div class="section level2">
<h2 id="compound-id-converter">
<strong>Compound ID converter</strong><a class="anchor" aria-label="anchor" href="#compound-id-converter"></a>
</h2>
<p>Two web tools are used for compound compound convert.</p>
<div class="section level3">
<h3 id="cts-fiehnlab">
<strong>1. cts.fiehnlab</strong><a class="anchor" aria-label="anchor" href="#cts-fiehnlab"></a>
</h3>
<p>cts.fiehnlab is <a href="http://cts.fiehnlab.ucdavis.edu/service/convert" class="external-link uri">http://cts.fiehnlab.ucdavis.edu/service/convert</a>. It support a lot of databases.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymass/tinytools" class="external-link">tinytools</a></span><span class="op">)</span></code></pre></div>
<p>We can use the <code><a href="../reference/trans_id_database.html">trans_id_database()</a></code> to get the databases that cts.fiehnlab.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">database_name</span> <span class="op">=</span> <span class="fu"><a href="../reference/trans_id_database.html">trans_id_database</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"cts.fiehnlab"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">226 databases are supported in server</span></span>
<span class="co"><span style="color: #00BB00;">#&gt;         http://cts.fiehnlab.ucdavis.edu/service/convert for 'from'.</span></span>
<span class="co"><span style="color: #00BB00;">#&gt; 227 databases are supported in server</span></span>
<span class="co"><span style="color: #00BB00;">#&gt;         http://cts.fiehnlab.ucdavis.edu/service/convert for 'to'.</span></span>
<span class="co"><span style="color: #00BB00;">#&gt; </span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">database_name</span><span class="op">$</span><span class="va">From</span><span class="op">$</span><span class="va">From</span><span class="op">)</span>
<span class="co">#&gt; [1] "AAA Chemistry"     "ABBLIS Chemicals"  "Abbott Labs"      </span>
<span class="co">#&gt; [4] "ABI Chem"          "AbMole Bioscience" "Acesobio"</span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">database_name</span><span class="op">$</span><span class="va">To</span><span class="op">$</span><span class="va">From</span><span class="op">)</span>
<span class="co">#&gt; [1] "AAA Chemistry"     "ABBLIS Chemicals"  "Abbott Labs"      </span>
<span class="co">#&gt; [4] "ABI Chem"          "AbMole Bioscience" "Acesobio"</span></code></pre></div>
<p>We can see that it support a lot of (&gt; 200) databases.</p>
<p>We can try the most common convert, from KEGG to HMDB.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/tinytools/man/trans_ID%20(1).html" class="external-link">trans_ID</a></span><span class="op">(</span>
  query <span class="op">=</span> <span class="st">"C00001"</span>,
  from <span class="op">=</span> <span class="st">"KEGG"</span>,
  to <span class="op">=</span> <span class="st">"Human Metabolome Database"</span>,
  top <span class="op">=</span> <span class="fl">1</span>,
  server <span class="op">=</span> <span class="st">"cts.fiehnlab"</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="co">#&gt;   KEGG   `Human Metabolome Database`</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                      </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C00001 HMDB0002111</span></code></pre></div>
<p>Now, <code>trans_ID</code> doesn’t support verctor query. So you can use the <code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map()</a></code> to achive this.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C00001"</span>, <span class="st">"C00001"</span>, <span class="st">"C00001"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span>
    .f <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span>
      <span class="fu"><a href="https://rdrr.io/pkg/tinytools/man/trans_ID%20(1).html" class="external-link">trans_ID</a></span><span class="op">(</span>
        query <span class="op">=</span> <span class="va">x</span>,
        from <span class="op">=</span> <span class="st">"KEGG"</span>,
        to <span class="op">=</span> <span class="st">"Human Metabolome Database"</span>,
        top <span class="op">=</span> <span class="fl">1</span>,
        server <span class="op">=</span> <span class="st">"cts.fiehnlab"</span>
      <span class="op">)</span>
    <span class="op">}</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">rbind</span>, <span class="va">.</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;     KEGG Human Metabolome Database</span>
<span class="co">#&gt; 1 C00001               HMDB0002111</span>
<span class="co">#&gt; 2 C00001               HMDB0002111</span>
<span class="co">#&gt; 3 C00001               HMDB0002111</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="chemspider">
<strong>2. chemspider</strong><a class="anchor" aria-label="anchor" href="#chemspider"></a>
</h3>
<p>This is from <a href="https://www.chemspider.com/InChI.asmx" class="external-link uri">https://www.chemspider.com/InChI.asmx</a>.</p>
<p>We can use the <code><a href="../reference/trans_id_database.html">trans_id_database()</a></code> to get the databases that chemspider</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">database_name2</span> <span class="op">=</span> <span class="fu"><a href="../reference/trans_id_database.html">trans_id_database</a></span><span class="op">(</span>server <span class="op">=</span> <span class="st">"chemspider"</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #00BB00;">9 are supported in server https://www.chemspider.com/InChI.asmx.</span></span>
<span class="co"><span style="color: #00BB00;">#&gt; </span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">database_name2</span><span class="op">$</span><span class="va">From</span>
<span class="co">#&gt; [1] "csid"     "inchikey" "inchikey" "inchikey" "inchi"    "inchi"    "inchi"   </span>
<span class="co">#&gt; [8] "inchi"    "smiles"</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">database_name2</span><span class="op">$</span><span class="va">To</span>
<span class="co">#&gt; [1] "mol"      "csid"     "inchi"    "mol"      "csid"     "inchikey" "mol"     </span>
<span class="co">#&gt; [8] "smiles"   "inchi"</span></code></pre></div>
<p>This is very useful if you want to get the inchikey, inchi or smiles for one compound. But this web only support “ChemSpider ID” (csid), so we need use cts.fiehnlab convert to csid first.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/tinytools/man/trans_ID%20(1).html" class="external-link">trans_ID</a></span><span class="op">(</span>
  query <span class="op">=</span> <span class="st">"C00001"</span>,
  from <span class="op">=</span> <span class="st">"KEGG"</span>,
  to <span class="op">=</span> <span class="st">"ChemSpider"</span>,
  top <span class="op">=</span> <span class="fl">1</span>,
  server <span class="op">=</span> <span class="st">"cts.fiehnlab"</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span>
<span class="co">#&gt;   KEGG   ChemSpider</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> C00001 140526</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/pkg/tinytools/man/trans_ID%20(1).html" class="external-link">trans_ID</a></span><span class="op">(</span>
  query <span class="op">=</span> <span class="st">"140526"</span>,
  from <span class="op">=</span> <span class="st">"csid"</span>,
  to <span class="op">=</span> <span class="st">"mol"</span>,
  top <span class="op">=</span> <span class="fl">1</span>,
  server <span class="op">=</span> <span class="st">"chemspider"</span>
<span class="op">)</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>tinytools Developed by Xiaotao Shen, Chuchu Wang. <br> from <i class="fa fa-university"></i> Stanford University <br><i class="fa fa-clinic-medical"></i>School of Medicine <br><i class="fa fa-dna"></i> Genetics Department</p>
</div>

<div class="pkgdown">
  <p></p>
<p><b>Contact Us:</b> <br><i class="fa fa-envelope"></i> <a href="mailto:shenxt1990@outlook.com" class="email">shenxt1990@outlook.com</a> <br><i class="fa fa-weixin"></i> <a href="https://www.shenxt.info/files/wechat_QR.jpg" class="external-link">shenxt1990</a> <br><i class="fa fa-network-wired"></i> <a href="https://tidymass.github.io/tidymass/" class="external-link">A part of tidymass</a></p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '21ff2860978c5d2ceb7d4150364070ff',
    indexName: 'tinytools',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
